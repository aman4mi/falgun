<div class="container" th:fragment="firstscript" xmlns:th="http://www.w3.org/1999/xhtml">

    <script type="text/javascript">
        $(document).ready(function () {
//            alert("Welcome dev team");
            $("#pageContent").load("show.html");
        });

        function createFn() {
            var bkash = $("#bikashNo").val();
            alert("mobile no: " + bkash);
        }

        function updateFn() {
            alert("ok update");
        }

        /* hit controller to create (insert) data in DB */
        function saveStudentFn() {
            var formData = $("#studentform").serialize();

            $.ajax({
                type: "post",
                url: "/saveStudent",
                data: formData,
                dataType: "json",
                success: function (data) {
                    swal("Welcome ", data.message);
                }
            });

        }

        /* hit controller to fetch data from database and display in table */
        function listStudentFn() {

            $.ajax({
                type: "get",
                url: "/listStudent",
                data: "",
                dataType: "json",

                success: function (data) {
                    tableDataReset();
                    var dataObj = data.queryList;

                    $.each(dataObj, function (index, value) {
                        var $row = $('<tr>' +
                                '<td>' + index + '</td>' +
                                '<td>' + dataObj[index].student_id + '</td>' +
                                '<td>' + dataObj[index].student_name + '</td>' +
                                '<td>' + value.course_id + '</td>' +
                                '</tr>');
                        $('table> tbody').append($row);
                    });
                }
            });
        }

        /*
         delete table row(tr) except table header(gt(0))
         */
        function tableDataReset() {
            $("#listStudentTable").find("tr:gt(0)").remove();
        }


    </script>

</div>